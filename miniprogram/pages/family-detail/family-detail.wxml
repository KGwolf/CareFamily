<view class="page">
<navigation-bar title="å®¶äººè¯¦æƒ…" back="{{true}}" color="black" background="#FFF"></navigation-bar>


<!-- å®¶äººä¿¡æ¯å¡ -->
<view class="card family-card" bindtap="onEditFamily">
  <view class="family-main">
    <!-- <view class="avatar">ğŸ‘¤</view> -->
    <view class="avatar-wrap" style="background-color: {{family.gender === 'ç”·' ? '#e1f5fe' : '#ffebee'}}">
              <text class="avatar-text">{{family.name[0]}}</text>
    </view>
    <view class="family-info">
      <view class="name">{{family.name}}</view>
      <view class="meta">{{family.age}} å² Â· {{family.relation}}</view>
    </view>
  </view>

  <view class="remark">
    <text class="remark-label">å¤‡æ³¨ï¼š</text>
    <text class="remark-text">
      {{family.remark}}
    </text>
  </view>

  <!-- <view class="edit-tip"> ç¼–è¾‘å®¶äººä¿¡æ¯</view> -->
</view>

<!-- æé†’è§„åˆ™ -->
<view class="section-header">
  <view class="section-title">æé†’äº‹é¡¹</view>
  <!-- æç¤ºå›¾æ ‡+æ–‡å­— -->
  <view class="swipe-tip">
    <icon type="info" size="24rpx" color="#42b983" />
    <text class="tip-text">å·¦æ»‘åˆ—è¡¨é¡¹å¯ä»¥æ“ä½œ</text>
  </view>
  <view class="add-btn" bindtap="onAddReminder">ï¼‹ æ–°å¢æé†’</view>
</view>

<!-- æé†’è§„åˆ™åˆ—è¡¨ -->

  <scroll-view
      class="scroll-area"
      scroll-y
      show-scrollbar="{{false}}"
     
    >
        <!-- ç©ºçŠ¶æ€æç¤ºï¼šæ²¡æœ‰æ•°æ®æ—¶æ˜¾ç¤º -->
      <view class="empty-tip" wx:if="{{!familyReminderList.length}}">
        <text>æš‚æ— å¾…æ‰§è¡Œäº‹é¡¹~</text>
      </view>

      <!-- å®¶äººå¡ç‰‡ï¼ˆå¾ªç¯æ¸²æŸ“ + æ»‘åŠ¨äº‹ä»¶ï¼‰ -->
      <block wx:for="{{familyReminderList}}" wx:key="id" wx:for-item="reminder">
        <van-swipe-cell bind:touchstart="swipeTouchStart"
      bind:touchmove="swipeTouchMove"
      bind:close="onSwipeClose"
      bind:open="onSwipeOpen"  right-width="{{180}}" bind:close="onSwipeClose" >
          <view class="slide-wrap" data-index="{{index}}" bindtap="onEditReminder" data-item="{{reminder}}">
            <image class="icon-clock" src="/images/clock.png" mode="aspectFit"></image>
            <view class="reminder-left">
              <view class="time">{{reminder.remindTime}}</view>
              <view class="cycle">{{reminder.frequency == "daily" ? "æ¯æ—¥":reminder.customDate}}</view>
            </view>
            <view class="reminder-right">
              <view class="content">{{reminder.content}}</view>
            </view>
          </view>

          <view slot="right" class="swipe-btn-wrapper">
              <!-- <button class="btn edit" bindtap="handleEdit" data-item="{{reminder}}">ç¼–è¾‘æé†’</button> -->
              <button class="btn delete" bindtap="handleDeleteReminder" data-item="{{reminder}}">åˆ é™¤æé†’</button>
          </view>
        </van-swipe-cell>
    </block>

    </scroll-view>
     <!-- åº•éƒ¨é—´è·ï¼šæ·»åŠ è¿™ä¸€è¡Œ -->
  <view class="list-bottom-space"></view>
</view>
