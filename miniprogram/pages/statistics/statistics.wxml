<navigation-bar title="ç»Ÿè®¡" back="{{true}}" color="black" background="#FFF"></navigation-bar>

<!-- å®¶äººæ¨ªå‘åˆ—è¡¨ -->
<scroll-view
  class="family-scroll"
  scroll-x
  show-scrollbar="{{false}}"
  enhanced
>
  <view class="family-list">
    <block wx:for="{{familyList}}" wx:key="id">
      <view
        class="family-card {{currentId === item.id ? 'active' : ''}}"
        bindtap="onSelectFamily"
        data-id="{{item.id}}"
      >
        <image class="avatar" src="{{item.avatar}}" />
        <view class="name">{{item.name}}</view>
        <view class="age">({{item.age}}å²)</view>

        <view wx:if="{{item.status === 'good'}}" class="status good">
          ç…§æŠ¤è‰¯å¥½
        </view>
      </view>
    </block>
  </view>
</scroll-view>

<!-- å½“å‰å®¶äººæ¦‚è§ˆ -->
<view class="section card">
  <view class="section-title">
    {{currentFamily.name}}ï¼ˆ{{currentFamily.age}}å²ï¼‰
  </view>

  <view class="today-box">
    <view class="today-title">
      ä»Šæ—¥å·²ç¡®è®¤ <text class="strong">{{currentFamily.todayDone}}</text> / {{currentFamily.todayTotal}} é¡¹
    </view>
    <view class="today-ok">
      âœ” ä»Šå¤©ç…§æŠ¤æƒ…å†µè‰¯å¥½
    </view>
  </view>
</view>

<!-- æ‰§è¡Œç‡ -->
<view class="section card">
  <view class="section-title">è¿‘7å¤©æ‰§è¡Œç‡</view>

  <view class="progress-item">
    <view class="label">åƒé™å‹è¯</view>
    <view class="progress-bar">
      <view class="progress" style="width: {{currentFamily.medRate}}%"></view>
    </view>
    <view class="percent">{{currentFamily.medRate}}%</view>
  </view>

  <view class="progress-item">
    <view class="label">æµ‹è¡€å‹</view>
    <view class="progress-bar">
      <view class="progress blue" style="width: {{currentFamily.bpRate}}%"></view>
    </view>
    <view class="percent">{{currentFamily.bpRate}}%</view>
  </view>

  <view class="care-days">
    ğŸ’š å·²è¿ç»­ç…§æŠ¤ {{currentFamily.careDays}} å¤© â¤ï¸
  </view>
</view>

<!-- æŸ¥çœ‹ç»Ÿè®¡ -->
<view class="section card">
  <view class="detail-row">
    <text>åƒé™å‹è¯</text>
    <text class="percent green">{{currentFamily.medRate}}%</text>
  </view>
  <view class="detail-row">
    <text>æµ‹è¡€å‹</text>
    <text class="percent green">{{currentFamily.bpRate}}%</text>
  </view>

  <view class="detail-btn" bindtap="goDetail">
    æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡ >
  </view>
</view>
